(()=>{var e={91:(e,t,o)=>{const{getHashWinObj:i}=o(669);t.loadEvent=function(){if(window.Store.Msg.on("add",e=>{e.isNewMsg&&("ciphertext"===e.type?(e.once("change:type",e=>{i().onAddMessageEvent(window.WWebJS.getMessageModel(e))}),i().onAddMessageCiphertextEvent(window.WWebJS.getMessageModel(e))):i().onAddMessageEvent(window.WWebJS.getMessageModel(e)))}),window.Store.Msg.on("change",e=>{console.log("change",window.WWebJS.getMessageModel(e))}),window.compareWwebVersions(window.Debug.VERSION,">=","2.3000.1014111620")){const e=window.Store.AddonReactionTable,t=e.bulkUpsert;e.bulkUpsert=((...e)=>(window.onReaction(e[0].map(e=>{const t=e.id,o=e.reactionParentKey,i=e.reactionTimestamp/1e3,n=(e.author??e.from)._serialized;return{...e,msgKey:t,parentMsgKey:o,senderUserJid:n,timestamp:i}})),t(...e))).bind(e)}else{const e=window.Store.createOrUpdateReactionsModule,t=e.createOrUpdateReactions;e.createOrUpdateReactions=((...e)=>(window.onReaction(e[0].map(e=>{const t=window.Store.MsgKey.fromString(e.msgKey),o=window.Store.MsgKey.fromString(e.parentMsgKey),i=e.timestamp/1e3;return{...e,msgKey:t,parentMsgKey:o,timestamp:i}})),t(...e))).bind(e)}}},222:(e,t)=>{"use strict";t.ExposeAuthStore=()=>{window.AuthStore={},window.AuthStore.AppState=window.require("WAWebSocketModel").Socket,window.AuthStore.Cmd=window.require("WAWebCmd").Cmd,window.AuthStore.Conn=window.require("WAWebConnModel").Conn,window.AuthStore.OfflineMessageHandler=window.require("WAWebOfflineHandler").OfflineMessageHandler,window.AuthStore.PairingCodeLinkUtils=window.require("WAWebAltDeviceLinkingApi"),window.AuthStore.Base64Tools=window.require("WABase64"),window.AuthStore.RegistrationUtils={...window.require("WAWebCompanionRegClientUtils"),...window.require("WAWebAdvSignatureApi"),...window.require("WAWebUserPrefsInfoStore"),...window.require("WAWebSignalStoreApi")}}},399:(e,t)=>{t.ExposeLegacyAuthStore=e=>{var t=e;window.mR=t(),window.AuthStore={},window.AuthStore.AppState=window.mR.findModule("Socket")[0].Socket,window.AuthStore.Cmd=window.mR.findModule("Cmd")[0].Cmd,window.AuthStore.Conn=window.mR.findModule("Conn")[0].Conn,window.AuthStore.OfflineMessageHandler=window.mR.findModule("OfflineMessageHandler")[0].OfflineMessageHandler,window.AuthStore.PairingCodeLinkUtils=window.mR.findModule("initializeAltDeviceLinking")[0],window.AuthStore.Base64Tools=window.mR.findModule("encodeB64")[0],window.AuthStore.RegistrationUtils={...window.mR.findModule("getCompanionWebClientFromBrowser")[0],...window.mR.findModule("verifyKeyIndexListAccountSignature")[0],...window.mR.findModule("waNoiseInfo")[0],...window.mR.findModule("waSignalStore")[0]}}},412:(e,t)=>{"use strict";t.ExposeStore=()=>{window.compareWwebVersions=(e,t,o)=>{if(![">",">=","<","<=","="].includes(t))throw new class extends Error{constructor(e){super(e),this.name="CompareWwebVersionsError"}}("Invalid comparison operator is provided");if("string"!=typeof e||"string"!=typeof o)throw new class extends Error{constructor(e){super(e),this.name="CompareWwebVersionsError"}}("A non-string WWeb version type is provided");for(e=e.replace(/-beta$/,""),o=o.replace(/-beta$/,"");e.length!==o.length;)e.length>o.length?o=o.concat("0"):e=e.concat("0");return e=Number(e.replace(/\./g,"")),o=Number(o.replace(/\./g,"")),">"===t?e>o:">="===t?e>=o:"<"===t?e<o:"<="===t?e<=o:"="===t&&e===o},window.Store=Object.assign({},window.require("WAWebCollections")),window.Store.AppState=window.require("WAWebSocketModel").Socket,window.Store.BlockContact=window.require("WAWebBlockContactAction"),window.Store.Conn=window.require("WAWebConnModel").Conn,window.Store.Cmd=window.require("WAWebCmd").Cmd,window.Store.DownloadManager=window.require("WAWebDownloadManager").downloadManager,window.Store.GroupQueryAndUpdate=window.require("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById,window.Store.MediaPrep=window.require("WAWebPrepRawMedia"),window.Store.MediaObject=window.require("WAWebMediaStorage"),window.Store.MediaTypes=window.require("WAWebMmsMediaTypes"),window.Store.MediaUpload=window.require("WAWebMediaMmsV4Upload"),window.Store.MsgKey=window.require("WAWebMsgKey"),window.Store.OpaqueData=window.require("WAWebMediaOpaqueData"),window.Store.QueryProduct=window.require("WAWebBizProductCatalogBridge"),window.Store.QueryOrder=window.require("WAWebBizOrderBridge"),window.Store.SendClear=window.require("WAWebChatClearBridge"),window.Store.SendDelete=window.require("WAWebDeleteChatAction"),window.Store.SendMessage=window.require("WAWebSendMsgChatAction"),window.Store.EditMessage=window.require("WAWebSendMessageEditAction"),window.Store.SendSeen=window.require("WAWebUpdateUnreadChatAction"),window.Store.User=window.require("WAWebUserPrefsMeUser"),window.Store.ContactMethods=window.require("WAWebContactGetters"),window.Store.UserConstructor=window.require("WAWebWid"),window.Store.Validators=window.require("WALinkify"),console.log(window.Store.Validators),window.Store.WidFactory=window.require("WAWebWidFactory"),window.Store.ProfilePic=window.require("WAWebContactProfilePicThumbBridge"),window.Store.PresenceUtils=window.require("WAWebPresenceChatAction"),window.Store.ChatState=window.require("WAWebChatStateBridge"),window.Store.findCommonGroups=window.require("WAWebFindCommonGroupsContactAction").findCommonGroups,window.Store.StatusUtils=window.require("WAWebContactStatusBridge"),window.Store.ConversationMsgs=window.require("WAWebChatLoadMessages"),window.Store.sendReactionToMsg=window.require("WAWebSendReactionMsgAction").sendReactionToMsg,window.Store.createOrUpdateReactionsModule=window.require("WAWebDBCreateOrUpdateReactions"),window.Store.EphemeralFields=window.require("WAWebGetEphemeralFieldsMsgActionsUtils"),window.Store.MsgActionChecks=window.require("WAWebMsgActionCapability"),window.Store.QuotedMsg=window.require("WAWebQuotedMsgModelUtils"),window.Store.LinkPreview=window.require("WAWebLinkPreviewChatAction"),window.Store.Socket=window.require("WADeprecatedSendIq"),window.Store.SocketWap=window.require("WAWap"),window.Store.SearchContext=window.require("WAWebChatMessageSearch"),window.Store.DrawerManager=window.require("WAWebDrawerManager").DrawerManager,window.Store.LidUtils=window.require("WAWebApiContact"),window.Store.WidToJid=window.require("WAWebWidToJid"),window.Store.JidToWid=window.require("WAWebJidToWid"),window.Store.getMsgInfo=window.require("WAWebApiMessageInfoStore").queryMsgInfo,window.Store.pinUnpinMsg=window.require("WAWebSendPinMessageAction").sendPinInChatMsg,window.Store.QueryExist=window.require("WAWebQueryExistsJob").queryWidExists,window.Store.ReplyUtils=window.require("WAWebMsgReply"),window.Store.BotSecret=window.require("WAWebBotMessageSecret"),window.Store.BotProfiles=window.require("WAWebBotProfileCollection"),window.Store.ContactCollection=window.require("WAWebContactCollection").ContactCollection,window.Store.DeviceList=window.require("WAWebApiDeviceList"),window.Store.HistorySync=window.require("WAWebSendNonMessageDataRequest"),window.Store.AddonReactionTable=window.require("WAWebAddonReactionTableMode").reactionTableMode,window.Store.ChatGetters=window.require("WAWebChatGetters"),window.Store.UploadUtils=window.require("WAWebUploadManager"),window.Store.Settings={...window.require("WAWebUserPrefsGeneral"),...window.require("WAWebUserPrefsNotifications"),setPushname:window.require("WAWebSetPushnameConnAction").setPushname},window.Store.NumberInfo={...window.require("WAPhoneUtils"),...window.require("WAPhoneFindCC")},window.Store.ForwardUtils={...window.require("WAWebForwardMessagesToChat")},window.Store.VCard={...window.require("WAWebFrontendVcardUtils"),...window.require("WAWebVcardParsingUtils"),...window.require("WAWebVcardGetNameFromParsed")},window.Store.StickerTools={...window.require("WAWebImageUtils"),...window.require("WAWebAddWebpMetadata")},window.Store.GroupUtils={...window.require("WAWebGroupCreateJob"),...window.require("WAWebGroupModifyInfoJob"),...window.require("WAWebExitGroupAction"),...window.require("WAWebContactProfilePicThumbBridge")},window.Store.GroupParticipants={...window.require("WAWebModifyParticipantsGroupAction"),...window.require("WASmaxGroupsAddParticipantsRPC")},window.Store.GroupInvite={...window.require("WAWebGroupInviteJob"),...window.require("WAWebGroupQueryJob"),...window.require("WAWebMexFetchGroupInviteCodeJob")},window.Store.GroupInviteV4={...window.require("WAWebGroupInviteV4Job"),...window.require("WAWebChatSendMessages")},window.Store.MembershipRequestUtils={...window.require("WAWebApiMembershipApprovalRequestStore"),...window.require("WASmaxGroupsMembershipRequestsActionRPC")},window.Store.ChannelUtils={...window.require("WAWebLoadNewsletterPreviewChatAction"),...window.require("WAWebNewsletterMetadataQueryJob"),...window.require("WAWebNewsletterCreateQueryJob"),...window.require("WAWebEditNewsletterMetadataAction"),...window.require("WAWebNewsletterDeleteAction"),...window.require("WAWebNewsletterSubscribeAction"),...window.require("WAWebNewsletterUnsubscribeAction"),...window.require("WAWebNewsletterDirectorySearchAction"),...window.require("WAWebNewsletterToggleMuteStateJob"),...window.require("WAWebNewsletterGatingUtils"),...window.require("WAWebNewsletterModelUtils"),...window.require("WAWebMexAcceptNewsletterAdminInviteJob"),...window.require("WAWebMexRevokeNewsletterAdminInviteJob"),...window.require("WAWebChangeNewsletterOwnerAction"),...window.require("WAWebDemoteNewsletterAdminAction"),...window.require("WAWebNewsletterDemoteAdminJob"),countryCodesIso:window.require("WAWebCountriesNativeCountryNames"),currentRegion:window.require("WAWebL10N").getRegion()},window.Store.SendChannelMessage={...window.require("WAWebNewsletterUpdateMsgsRecordsJob"),...window.require("WAWebMsgDataFromModel"),...window.require("WAWebNewsletterSendMessageJob"),...window.require("WAWebNewsletterSendMsgAction"),...window.require("WAMediaCalculateFilehash")},window.Store.ChannelSubscribers={...window.require("WAWebMexFetchNewsletterSubscribersJob"),...window.require("WAWebNewsletterSubscriberListAction")},window.Store.AddressbookContactUtils={...window.require("WAWebSaveContactAction"),...window.require("WAWebDeleteContactAction")},window.Store.Chat._find&&window.Store.Chat.findImpl||(window.Store.Chat._find=e=>{const t=window.Store.Chat.get(e);return t?Promise.resolve(t):Promise.resolve({id:e})},window.Store.Chat.findImpl=window.Store.Chat._find),window.injectToFunction=(e,t)=>{const o=window.require(e.module),i=o[e.function];o[e.function]=(...e)=>t(i,...e)},window.injectToFunction({module:"WAWebBackendJobsCommon",function:"mediaTypeFromProtobuf"},(e,...t)=>{const[o]=t;return o.locationMessage?null:e(...t)}),window.injectToFunction({module:"WAWebE2EProtoUtils",function:"typeAttributeFromProtobuf"},(e,...t)=>{const[o]=t;return o.locationMessage||o.groupInviteMessage?"text":e(...t)})}},580:(e,t,o)=>{const{ExposeAuthStore:i}=o(222),{ExposeStore:n}=o(412),{ExposeLegacyAuthStore:r}=o(399),{ExposeLegacyStore:d}=o(753),{LoadUtils:a}=o(744),{loadOk:w,getWWebVersion:s,loadStore:l}=o(669),c=o(945),{loadEvent:u}=o(91);t.init=function(){return new Promise(async(e,t)=>{await w();const o=s();parseInt(o.split(".")?.[1])>=3e3?(i(),n()):(r(c),await new Promise(e=>setTimeout(e,2e3)),d()),a(),u(),e()})}},669:(e,t)=>{t.getHashWinObj=function(){return window.dc69ccbb0b301bac87bb4428e20467532063d1b0||(window.dc69ccbb0b301bac87bb4428e20467532063d1b0={}),window.dc69ccbb0b301bac87bb4428e20467532063d1b0},t.loadOk=function(){return new Promise((e,t)=>{window.addEventListener("load",()=>{setInterval(()=>{null!=window.Debug?.VERSION&&e()},1e3)})})},t.loadStore=function(){return new Promise((e,t)=>{setInterval(()=>{null!=window.Store&&e()},1e3)})},t.getWWebVersion=function(){return window.Debug.VERSION}},744:(e,t)=>{t.LoadUtils=()=>{window.WWebJS={},window.WWebJS.forwardMessage=async(e,t)=>{const o=window.Store.Msg.get(t)||(await window.Store.Msg.getMessagesById([t]))?.messages?.[0],i=await window.WWebJS.getChat(e,{getAsModel:!1});return window.compareWwebVersions(window.Debug.VERSION,">","2.3000.0")?window.Store.ForwardUtils.forwardMessagesToChats([o],[i],!0):i.forwardMessages([o])},window.WWebJS.sendSeen=async e=>{const t=await window.WWebJS.getChat(e,{getAsModel:!1});return!!t&&(await window.Store.SendSeen.sendSeen(t),!0)},window.WWebJS.sendMessage=async(e,t,o={})=>{const i=window.Store.ChatGetters.getIsNewsletter(e);let n={};o.media&&(n=o.sendMediaAsSticker&&!i?await window.WWebJS.processStickerData(o.media):await window.WWebJS.processMediaData(o.media,{forceSticker:o.sendMediaAsSticker,forceGif:o.sendVideoAsGif,forceVoice:o.sendAudioAsVoice,forceDocument:o.sendMediaAsDocument,forceMediaHd:o.sendMediaAsHd,sendToChannel:i}),n.caption=o.caption,t=o.sendMediaAsSticker?void 0:n.preview,n.isViewOnce=o.isViewOnce,delete o.media,delete o.sendMediaAsSticker);let r={};if(o.quotedMessageId){let t=window.Store.Msg.get(o.quotedMessageId);if(!t&&(t=(await window.Store.Msg.getMessagesById([o.quotedMessageId]))?.messages?.[0]),t)(window.Store.ReplyUtils?window.Store.ReplyUtils.canReplyMsg(t.unsafe()):t.canReply())&&(r=t.msgContextInfo(e));else if(!o.ignoreQuoteErrors)throw new Error("Could not get the quoted message.");delete o.ignoreQuoteErrors,delete o.quotedMessageId}o.mentionedJidList&&(o.mentionedJidList=await Promise.all(o.mentionedJidList.map(async e=>{const t=window.Store.WidFactory.createWid(e);if(await window.Store.QueryExist(t))return t})),o.mentionedJidList=o.mentionedJidList.filter(Boolean)),o.groupMentions&&(o.groupMentions=o.groupMentions.map(e=>({groupSubject:e.subject,groupJid:window.Store.WidFactory.createWid(e.id)})));let d={};if(o.location){let{latitude:e,longitude:t,description:i,url:n}=o.location;n=window.Store.Validators.findLink(n)?.href,n&&!i&&(i=n),d={type:"location",loc:i,lat:e,lng:t,clientUrl:n},delete o.location}let a={};if(o.poll){const{pollName:e,pollOptions:t}=o.poll,{allowMultipleAnswers:i,messageSecret:n}=o.poll.options;a={kind:"pollCreation",type:"poll_creation",pollName:e,pollOptions:t,pollSelectableOptionsCount:i?0:1,messageSecret:Array.isArray(n)&&32===n.length?new Uint8Array(n):window.crypto.getRandomValues(new Uint8Array(32))},delete o.poll}let w={};if(o.contactCard){let e=window.Store.Contact.get(o.contactCard);w={body:window.Store.VCard.vcardFromContactModel(e).vcard,type:"vcard",vcardFormattedName:e.formattedName},delete o.contactCard}else if(o.contactCardList)w={type:"multi_vcard",vcardList:o.contactCardList.map(e=>window.Store.Contact.get(e)).map(e=>window.Store.VCard.vcardFromContactModel(e)),body:null},delete o.contactCardList;else if(o.parseVCards&&"string"==typeof t&&t.startsWith("BEGIN:VCARD")){delete o.parseVCards,delete o.linkPreview;try{const e=window.Store.VCard.parseVcard(t);e&&(w={type:"vcard",vcardFormattedName:window.Store.VCard.vcardGetNameFromParsed(e)})}catch(e){}}if(o.linkPreview){delete o.linkPreview;const e=window.Store.Validators.findLink(t);if(e){let t=await window.Store.LinkPreview.getLinkPreview(e);t&&t.data&&(t=t.data,t.preview=!0,t.subtype="url",o={...o,...t})}}let s={};if(o.buttons){let e;e="chat"===o.buttons.type?t=o.buttons.body:o.caption?o.caption:" ",s={productHeaderImageRejected:!1,isFromTemplate:!1,isDynamicReplyButtonsMsg:!0,title:o.buttons.title?o.buttons.title:void 0,footer:o.buttons.footer?o.buttons.footer:void 0,dynamicReplyButtons:o.buttons.buttons,replyButtons:o.buttons.buttons,caption:e},delete o.buttons}let l={};if(o.list){if("smba"===window.Store.Conn.platform||"smbi"===window.Store.Conn.platform)throw"[LT01] Whatsapp business can't send this yet";l={type:"list",footer:o.list.footer,list:{...o.list,listType:1},body:o.list.description},delete o.list,delete l.list.footer}const c={};o.invokedBotWid&&(c.messageSecret=window.crypto.getRandomValues(new Uint8Array(32)),c.botMessageSecret=await window.Store.BotSecret.genBotMsgSecretFromMsgSecret(c.messageSecret),c.invokedBotWid=window.Store.WidFactory.createWid(o.invokedBotWid),c.botPersonaId=window.Store.BotProfiles.BotProfileCollection.get(o.invokedBotWid).personaId,delete o.invokedBotWid);const u=window.Store.User.getMaybeMeLidUser(),p=window.Store.User.getMaybeMeUser(),S=await window.Store.MsgKey.newId();let m,M=e.id.isLid()?u:p;e.isGroup&&(M=e.groupMetadata&&e.groupMetadata.isLidAddressingMode?u:p,m=window.Store.WidFactory.toUserWid(M));const g=new window.Store.MsgKey({from:M,to:e.id,id:S,participant:m,selfDir:"out"}),W=o.extraOptions||{};delete o.extraOptions;const b=window.Store.EphemeralFields.getEphemeralFields(e),f={...o,id:g,ack:0,body:t,from:p,to:e.id,local:!0,self:"out",t:parseInt((new Date).getTime()/1e3),isNewMsg:!0,type:"chat",...b,...n,...n.toJSON?n.toJSON():{},...r,...d,...a,...w,...s,...l,...c,...W};if(c&&delete f.canonicalUrl,i){const t=new window.Store.Msg.modelClass(f),o=window.Store.SendChannelMessage.msgDataFromMsgModel(t),i=Object.keys(n).length>0;await window.Store.SendChannelMessage.addNewsletterMsgsRecords([o]),e.msgs.add(t),e.t=t.t;const r=await window.Store.SendChannelMessage.sendNewsletterMessageJob({msg:t,type:"chat"===f.type?"text":i?"media":"pollCreation",newsletterJid:e.id.toJid(),...i?{mediaMetadata:t.avParams(),mediaHandle:i?n.mediaHandle:null}:{}});return r.success&&(t.t=r.ack.t,t.serverId=r.serverId),t.updateAck(1,!0),await window.Store.SendChannelMessage.updateNewsletterMsgRecord(t),t}return await window.Store.SendMessage.addAndSendMsgToChat(e,f),window.Store.Msg.get(g._serialized)},window.WWebJS.editMessage=async(e,t,o={})=>{const i=o.extraOptions||{};if(delete o.extraOptions,o.mentionedJidList&&(o.mentionedJidList=await Promise.all(o.mentionedJidList.map(async e=>{const t=window.Store.WidFactory.createWid(e);if(await window.Store.QueryExist(t))return t})),o.mentionedJidList=o.mentionedJidList.filter(Boolean)),o.groupMentions&&(o.groupMentions=o.groupMentions.map(e=>({groupSubject:e.subject,groupJid:window.Store.WidFactory.createWid(e.id)}))),o.linkPreview){delete o.linkPreview;const e=window.Store.Validators.findLink(t);if(e){const t=await window.Store.LinkPreview.getLinkPreview(e);t.preview=!0,t.subtype="url",o={...o,...t}}}const n={...o,...i};return await window.Store.EditMessage.sendMessageEdit(e,t,n),window.Store.Msg.get(e.id._serialized)},window.WWebJS.toStickerData=async e=>{if("image/webp"==e.mimetype)return e;const t=window.WWebJS.mediaInfoToFile(e),o=await window.Store.StickerTools.toWebpSticker(t),i=await o.arrayBuffer();return{mimetype:"image/webp",data:window.WWebJS.arrayBufferToBase64(i)}},window.WWebJS.processStickerData=async e=>{if("image/webp"!==e.mimetype)throw new Error("Invalid media type");const t=window.WWebJS.mediaInfoToFile(e);let o=await window.WWebJS.getFileHash(t),i=await window.WWebJS.generateHash(32);const n=new AbortController,r=await window.Store.UploadUtils.encryptAndUpload({blob:t,type:"sticker",signal:n.signal,mediaKey:i});return{...r,clientUrl:r.url,deprecatedMms3Url:r.url,uploadhash:r.encFilehash,size:t.size,type:"sticker",filehash:o}},window.WWebJS.processMediaData=async(e,{forceSticker:t,forceGif:o,forceVoice:i,forceDocument:n,forceMediaHd:r,sendToChannel:d})=>{const a=window.WWebJS.mediaInfoToFile(e),w=await window.Store.OpaqueData.createFromData(a,a.type),s={asSticker:t,asGif:o,isPtt:i,asDocument:n};r&&0===a.type.indexOf("image/")&&(s.maxDimension=2560);const l=window.Store.MediaPrep.prepRawMedia(w,s),c=await l.waitForPrep(),u=window.Store.MediaObject.getOrCreateMediaObject(c.filehash),p=window.Store.MediaTypes.msgToMediaType({type:c.type,isGif:c.isGif,isNewsletter:d});if(i&&"ptt"===c.type){const e=u.contentInfo.waveform;c.waveform=e||await window.WWebJS.generateWaveform(a)}c.mediaBlob instanceof window.Store.OpaqueData||(c.mediaBlob=await window.Store.OpaqueData.createFromData(c.mediaBlob,c.mediaBlob.type)),c.renderableUrl=c.mediaBlob.url(),u.consolidate(c.toJSON()),c.mediaBlob.autorelease();const S={mimetype:c.mimetype,mediaObject:u,mediaType:p,...d?{calculateToken:window.Store.SendChannelMessage.getRandomFilehash}:{}},m=(d?await window.Store.MediaUpload.uploadUnencryptedMedia(S):await window.Store.MediaUpload.uploadMedia(S)).mediaEntry;if(!m)throw new Error("upload failed: media entry was not created");return c.set({clientUrl:m.mmsUrl,deprecatedMms3Url:m.deprecatedMms3Url,directPath:m.directPath,mediaKey:m.mediaKey,mediaKeyTimestamp:m.mediaKeyTimestamp,filehash:u.filehash,encFilehash:m.encFilehash,uploadhash:m.uploadHash,size:u.size,streamingSidecar:m.sidecar,firstFrameSidecar:m.firstFrameSidecar,mediaHandle:d?m.handle:null}),c},window.WWebJS.getMessageModel=e=>{const t=e.serialize();return t.isEphemeral=e.isEphemeral,t.isStatusV3=e.isStatusV3,t.links=window.require("WALinkify").findLinks(e.mediaObject?e.caption:e.body).map(e=>({link:e.href,isSuspicious:Boolean(e.suspiciousCharacters&&e.suspiciousCharacters.size)})),t.buttons&&(t.buttons=t.buttons.serialize()),t.dynamicReplyButtons&&(t.dynamicReplyButtons=JSON.parse(JSON.stringify(t.dynamicReplyButtons))),t.replyButtons&&(t.replyButtons=JSON.parse(JSON.stringify(t.replyButtons))),"object"==typeof t.id.remote&&(t.id=Object.assign({},t.id,{remote:t.id.remote._serialized})),delete t.pendingAckUpdate,t},window.WWebJS.getPollVoteModel=async e=>{const t=e.serialize();if(!e.parentMsgKey)return null;const o=window.Store.Msg.get(e.parentMsgKey)||(await window.Store.Msg.getMessagesById([e.parentMsgKey]))?.messages?.[0];return o&&(t.parentMessage=window.WWebJS.getMessageModel(o)),t},window.WWebJS.getChat=async(e,{getAsModel:t=!0}={})=>{const o=/@\w*newsletter\b/.test(e),i=window.Store.WidFactory.createWid(e);let n;if(o)try{n=window.Store.NewsletterCollection.get(e),n||(await window.Store.ChannelUtils.loadNewsletterPreviewChat(e),n=await window.Store.NewsletterCollection.find(i))}catch(e){n=null}else n=window.Store.Chat.get(i)||await window.Store.Chat.find(i);return t&&n?await window.WWebJS.getChatModel(n,{isChannel:o}):n},window.WWebJS.getChannelMetadata=async e=>{const t=await window.Store.ChannelUtils.queryNewsletterMetadataByInviteCode(e,window.Store.ChannelUtils.getRoleByIdentifier(e)),o=t.newsletterPictureMetadataMixin?.picture[0]?.queryPictureDirectPathOrEmptyResponseMixinGroup.value.directPath;return{id:t.idJid,createdAtTs:t.newsletterCreationTimeMetadataMixin.creationTimeValue,titleMetadata:{title:t.newsletterNameMetadataMixin.nameElementValue,updatedAtTs:t.newsletterNameMetadataMixin.nameUpdateTime},descriptionMetadata:{description:t.newsletterDescriptionMetadataMixin.descriptionQueryDescriptionResponseMixin.elementValue,updatedAtTs:t.newsletterDescriptionMetadataMixin.descriptionQueryDescriptionResponseMixin.updateTime},inviteLink:`https://whatsapp.com/channel/${t.newsletterInviteLinkMetadataMixin.inviteCode}`,membershipType:window.Store.ChannelUtils.getRoleByIdentifier(e),stateType:t.newsletterStateMetadataMixin.stateType,pictureUrl:o?`https://pps.whatsapp.net${o}`:null,subscribersCount:t.newsletterSubscribersMetadataMixin.subscribersCount,isVerified:"verified"===t.newsletterVerificationMetadataMixin.verificationState}},window.WWebJS.getChats=async()=>{const e=window.Store.Chat.getModelsArray().map(e=>window.WWebJS.getChatModel(e));return await Promise.all(e)},window.WWebJS.getChannels=async()=>{const e=window.Store.NewsletterCollection.getModelsArray(),t=e?.map(e=>window.WWebJS.getChatModel(e,{isChannel:!0}));return await Promise.all(t)},window.WWebJS.getChatModel=async(e,{isChannel:t=!1}={})=>{if(!e)return null;const o=e.serialize();if(o.isGroup=!1,o.isMuted=0!==e.mute?.expiration,t?o.isChannel=window.Store.ChatGetters.getIsNewsletter(e):o.formattedTitle=e.formattedTitle,e.groupMetadata){o.isGroup=!0;const t=window.Store.WidFactory.createWid(e.id._serialized);await window.Store.GroupMetadata.update(t),e.groupMetadata.participants._models.filter(e=>e.id?._serialized?.endsWith("@lid")).forEach(e=>e.contact?.phoneNumber&&(e.id=e.contact.phoneNumber)),o.groupMetadata=e.groupMetadata.serialize(),o.isReadOnly=e.groupMetadata.announce}if(e.newsletterMetadata&&(await window.Store.NewsletterMetadataCollection.update(e.id),o.channelMetadata=e.newsletterMetadata.serialize(),o.channelMetadata.createdAtTs=e.newsletterMetadata.creationTime),o.lastMessage=null,o.msgs&&o.msgs.length){const t=e.lastReceivedKey?window.Store.Msg.get(e.lastReceivedKey._serialized)||(await window.Store.Msg.getMessagesById([e.lastReceivedKey._serialized]))?.messages?.[0]:null;t&&(o.lastMessage=window.WWebJS.getMessageModel(t))}return delete o.msgs,delete o.msgUnsyncedButtonReplyMsgs,delete o.unsyncedButtonReplies,o},window.WWebJS.getContactModel=e=>{let t=e.serialize();return t.isBusiness=void 0!==e.isBusiness&&e.isBusiness,e.businessProfile&&(t.businessProfile=e.businessProfile.serialize()),t.isMe=window.Store.ContactMethods.getIsMe(e),t.isUser=window.Store.ContactMethods.getIsUser(e),t.isGroup=window.Store.ContactMethods.getIsGroup(e),t.isWAContact=window.Store.ContactMethods.getIsWAContact(e),t.isMyContact=window.Store.ContactMethods.getIsMyContact(e),t.isBlocked=e.isContactBlocked,t.userid=window.Store.ContactMethods.getUserid(e),t.isEnterprise=window.Store.ContactMethods.getIsEnterprise(e),t.verifiedName=window.Store.ContactMethods.getVerifiedName(e),t.verifiedLevel=window.Store.ContactMethods.getVerifiedLevel(e),t.statusMute=window.Store.ContactMethods.getStatusMute(e),t.name=window.Store.ContactMethods.getName(e),t.shortName=window.Store.ContactMethods.getShortName(e),t.pushname=window.Store.ContactMethods.getPushname(e),t},window.WWebJS.getContact=async e=>{const t=window.Store.WidFactory.createWid(e);let o=await window.Store.Contact.find(t);o.id._serialized.endsWith("@lid")&&(o.id=o.phoneNumber);const i=await window.Store.BusinessProfile.fetchBizProfile(t);return i.profileOptions&&(o.businessProfile=i),window.WWebJS.getContactModel(o)},window.WWebJS.getContacts=()=>window.Store.Contact.getModelsArray().map(e=>window.WWebJS.getContactModel(e)),window.WWebJS.mediaInfoToFile=({data:e,mimetype:t,filename:o})=>{const i=window.atob(e),n=new ArrayBuffer(i.length),r=new Uint8Array(n);for(let e=0;e<i.length;e++)r[e]=i.charCodeAt(e);const d=new Blob([n],{type:t});return new File([d],o,{type:t,lastModified:Date.now()})},window.WWebJS.arrayBufferToBase64=e=>{let t="";const o=new Uint8Array(e),i=o.byteLength;for(let e=0;e<i;e++)t+=String.fromCharCode(o[e]);return window.btoa(t)},window.WWebJS.arrayBufferToBase64Async=e=>new Promise((t,o)=>{const i=new Blob([e],{type:"application/octet-stream"}),n=new FileReader;n.onload=()=>{const[,e]=n.result.split(",");t(e)},n.onerror=e=>o(e),n.readAsDataURL(i)}),window.WWebJS.getFileHash=async e=>{let t=await e.arrayBuffer();const o=await crypto.subtle.digest("SHA-256",t);return btoa(String.fromCharCode(...new Uint8Array(o)))},window.WWebJS.generateHash=async e=>{for(var t="",o=0;o<e;o++)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return t},window.WWebJS.generateWaveform=async e=>{try{const t=await e.arrayBuffer(),o=new AudioContext,i=(await o.decodeAudioData(t)).getChannelData(0),n=64,r=Math.floor(i.length/n),d=[];for(let e=0;e<n;e++){const t=r*e;let o=0;for(let e=0;e<r;e++)o+=Math.abs(i[t+e]);d.push(o/r)}const a=Math.pow(Math.max(...d),-1),w=d.map(e=>e*a);return new Uint8Array(w.map(e=>Math.floor(100*e)))}catch(e){return}},window.WWebJS.sendClearChat=async e=>{let t=await window.WWebJS.getChat(e,{getAsModel:!1});return void 0!==t&&(await window.Store.SendClear.sendClear(t,!1),!0)},window.WWebJS.sendDeleteChat=async e=>{let t=await window.WWebJS.getChat(e,{getAsModel:!1});return void 0!==t&&(await window.Store.SendDelete.sendDelete(t),!0)},window.WWebJS.sendChatstate=async(e,t)=>{switch(t=window.Store.WidFactory.createWid(t),e){case"typing":await window.Store.ChatState.sendChatStateComposing(t);break;case"recording":await window.Store.ChatState.sendChatStateRecording(t);break;case"stop":await window.Store.ChatState.sendChatStatePaused(t);break;default:throw"Invalid chatstate"}return!0},window.WWebJS.getLabelModel=e=>{let t=e.serialize();return t.hexColor=e.hexColor,t},window.WWebJS.getLabels=()=>window.Store.Label.getModelsArray().map(e=>window.WWebJS.getLabelModel(e)),window.WWebJS.getLabel=e=>{const t=window.Store.Label.get(e);return window.WWebJS.getLabelModel(t)},window.WWebJS.getChatLabels=async e=>((await window.WWebJS.getChat(e)).labels||[]).map(e=>window.WWebJS.getLabel(e)),window.WWebJS.getOrderDetail=async(e,t,o)=>{const i=window.Store.WidFactory.createWid(o);return window.Store.QueryOrder.queryOrder(i,e,80,80,t)},window.WWebJS.getProductMetadata=async e=>{let t=window.Store.Conn.wid,o=await window.Store.QueryProduct.queryProduct(t,e);if(o&&o.data)return o.data},window.WWebJS.rejectCall=async(e,t)=>{e=e.split("@")[0]+"@s.whatsapp.net";let o=window.Store.User.getMaybeMeUser().user+"@s.whatsapp.net";const i=window.Store.SocketWap.wap("call",{id:window.Store.SocketWap.generateId(),from:window.Store.SocketWap.USER_JID(o),to:window.Store.SocketWap.USER_JID(e)},[window.Store.SocketWap.wap("reject",{"call-id":t,"call-creator":window.Store.SocketWap.USER_JID(e),count:"0"})]);await window.Store.Socket.deprecatedCastStanza(i)},window.WWebJS.cropAndResizeImage=async(e,t={})=>{if(!e.mimetype.includes("image"))throw new Error("Media is not an image");t.mimetype&&!t.mimetype.includes("image")&&delete t.mimetype,t=Object.assign({size:640,mimetype:e.mimetype,quality:.75,asDataUrl:!1},t);const o=await new Promise((t,o)=>{const i=new Image;i.onload=()=>t(i),i.onerror=o,i.src=`data:${e.mimetype};base64,${e.data}`}),i=Math.min(o.width,o.height),n=Math.floor((o.width-i)/2),r=Math.floor((o.height-i)/2),d=document.createElement("canvas");d.width=t.size,d.height=t.size,d.getContext("2d").drawImage(o,n,r,i,i,0,0,t.size,t.size);const a=d.toDataURL(t.mimetype,t.quality);return t.asDataUrl?a:Object.assign(e,{mimetype:t.mimeType,data:a.replace(`data:${t.mimeType};base64,`,"")})},window.WWebJS.setPicture=async(e,t)=>{const o=await window.WWebJS.cropAndResizeImage(t,{asDataUrl:!0,mimetype:"image/jpeg",size:96}),i=await window.WWebJS.cropAndResizeImage(t,{asDataUrl:!0,mimetype:"image/jpeg",size:640}),n=window.Store.WidFactory.createWid(e);try{const t=window.Store.ProfilePicThumb.get(e)||await window.Store.ProfilePicThumb.find(e);if(!t?.canSet())return!1;const r=await window.Store.GroupUtils.sendSetPicture(n,o,i);return!!r&&200===r.status}catch(e){if("ServerStatusCodeError"===e.name)return!1;throw e}},window.WWebJS.deletePicture=async e=>{const t=window.Store.WidFactory.createWid(e);try{if(!window.Store.ProfilePicThumb.get(e).canDelete())return;const o=await window.Store.GroupUtils.requestDeletePicture(t);return!!o&&200===o.status}catch(e){if("ServerStatusCodeError"===e.name)return!1;throw e}},window.WWebJS.getProfilePicThumbToBase64=async e=>{const t=await window.Store.ProfilePicThumb.find(e);if(t?.img)try{const e=await fetch(t.img);if(e.ok){const t=await e.blob();if(t){const e=await(e=>new Promise(t=>{const o=new FileReader;o.onloadend=function(){const e=o.result;if(null==e)t(void 0);else{const o=e.toString().split(",")[1];t(o)}},o.readAsDataURL(e)}))(t);return e}}}catch(e){}},window.WWebJS.getAddParticipantsRpcResult=async(e,t,o)=>{const i=e?.isLidAddressingMode?{phoneNumber:o,lid:window.Store.LidUtils.getCurrentLid(o)}:{phoneNumber:o},n=window.Store.WidToJid.widToGroupJid(t),r=i.lid?[{participantJid:window.Store.WidToJid.widToUserJid(i.lid),phoneNumberMixinArgs:{anyPhoneNumber:window.Store.WidToJid.widToUserJid(i.phoneNumber)}}]:[{participantJid:window.Store.WidToJid.widToUserJid(i.phoneNumber)}];let d,a;const w=window.compareWwebVersions(window.Debug.VERSION,"<=","2.2335.9"),s={name:void 0,code:void 0,inviteV4Code:void 0,inviteV4CodeExp:void 0};try{d=await window.Store.GroupParticipants.sendAddParticipantsRPC({participantArgs:r,iqTo:n}),a=w?d.value.addParticipant[0].addParticipantsParticipantMixins:d.value.addParticipant[0].addParticipantsParticipantAddedOrNonRegisteredWaUserParticipantErrorLidResponseMixinGroup.value.addParticipantsParticipantMixins}catch(e){return s.code=400,s}if("AddParticipantsResponseSuccess"===d.name){const e=a?.value.error||"200";s.name=a?.name,s.code=+e,s.inviteV4Code=a?.value.addRequestCode,s.inviteV4CodeExp=a?.value.addRequestExpiration?.toString()}else if("AddParticipantsResponseClientError"===d.name){const{code:e}=d.value.errorAddParticipantsClientErrors.value;s.code=+e}else if("AddParticipantsResponseServerError"===d.name){const{code:e}=d.value.errorServerErrors.value;s.code=+e}return s},window.WWebJS.membershipRequestAction=async(e,t,o,i)=>{const n=window.Store.WidFactory.createWid(e),r=await window.Store.Chat.find(n),d="Approve"===t;let a,w,s=[];if(await window.Store.GroupQueryAndUpdate({id:e}),o?.length?(!Array.isArray(o)&&(o=[o]),a=o.map(e=>window.Store.WidFactory.createWid(e))):a=r.groupMetadata.membershipApprovalRequests._models.map(({id:e})=>e),!a.length)return[];const l=a.map(e=>({participantArgs:[{participantJid:window.Store.WidToJid.widToUserJid(e)}]})),c=window.Store.WidToJid.widToGroupJid(n),u=e=>!Array.isArray(e)||2===e.length&&e[0]===e[1]?e:1===e.length?e[0]:(e[1]-e[0]<100&&(e[0]=e[1])&&(e[1]+=100),Math.floor(Math.random()*(e[1]-e[0]+1))+e[0]),p={default:`An unknown error occupied while ${d?"approving":"rejecting"} the participant membership request`,400:"ParticipantNotFoundError",401:"ParticipantNotAuthorizedError",403:"ParticipantForbiddenError",404:"ParticipantRequestNotFoundError",408:"ParticipantTemporarilyBlockedError",409:"ParticipantConflictError",412:"ParticipantParentLinkedGroupsResourceConstraintError",500:"ParticipantResourceConstraintError"};try{for(const e of l){if(w=await window.Store.MembershipRequestUtils.sendMembershipRequestsActionRPC({iqTo:c,[d?"approveArgs":"rejectArgs"]:e}),"MembershipRequestsActionResponseSuccess"===w.name){const e=d?w.value.membershipRequestsActionApprove:w.value.membershipRequestsActionReject;if(e?.participant){const[t]=e.participant.map(t=>{const o=d?e.participant[0].membershipRequestsActionAcceptParticipantMixins?.value.error:e.participant[0].membershipRequestsActionRejectParticipantMixins?.value.error;return{requesterId:window.Store.WidFactory.createWid(t.jid)._serialized,...o?{error:+o,message:p[o]||p.default}:{message:(d?"Approved":"Rejected")+" successfully"}}});t&&s.push(t)}}else s.push({requesterId:window.Store.JidToWid.userJidToUserWid(e.participantArgs[0].participantJid)._serialized,message:"ServerStatusCodeError"});i&&l.length>1&&l.indexOf(e)!==l.length-1&&await new Promise(e=>setTimeout(e,u(i)))}return s}catch(e){return[]}},window.WWebJS.subscribeToUnsubscribeFromChannel=async(e,t,o={})=>{const i=await window.WWebJS.getChat(e,{getAsModel:!1});if(!i||"owner"===i.newsletterMetadata.membershipType)return!1;o={eventSurface:3,deleteLocalModels:o.deleteLocalModels??!0};try{if("Subscribe"===t)await window.Store.ChannelUtils.subscribeToNewsletterAction(i,o);else{if("Unsubscribe"!==t)return!1;await window.Store.ChannelUtils.unsubscribeFromNewsletterAction(i,o)}return!0}catch(e){if("ServerStatusCodeError"===e.name)return!1;throw e}},window.WWebJS.pinUnpinMsgAction=async(e,t,o)=>{const i=window.Store.Msg.get(e)||(await window.Store.Msg.getMessagesById([e]))?.messages?.[0];return!!i&&"OK"===(await window.Store.pinUnpinMsg(i,t,o)).messageSendResult},window.WWebJS.getStatusModel=e=>{const t=e.serialize();return delete t._msgs,t},window.WWebJS.getAllStatuses=()=>window.Store.Status.getModelsArray().map(e=>window.WWebJS.getStatusModel(e))}},753:(e,t)=>{"use strict";t.ExposeLegacyStore=()=>{window.Store=Object.assign({},window.mR.findModule(e=>e.default&&e.default.Chat)[0].default),window.Store.AppState=window.mR.findModule("Socket")[0].Socket,window.Store.Conn=window.mR.findModule("Conn")[0].Conn,window.Store.BlockContact=window.mR.findModule("blockContact")[0],window.Store.Call=window.mR.findModule(e=>e.default&&e.default.Call)[0].default.Call,window.Store.Cmd=window.mR.findModule("Cmd")[0].Cmd,window.Store.CryptoLib=window.mR.findModule("decryptE2EMedia")[0],window.Store.DownloadManager=window.mR.findModule("downloadManager")[0].downloadManager,window.Store.GroupMetadata=window.mR.findModule("GroupMetadata")[0].default.GroupMetadata,window.Store.GroupQueryAndUpdate=window.mR.findModule("queryAndUpdateGroupMetadataById")[0].queryAndUpdateGroupMetadataById,window.Store.Label=window.mR.findModule("LabelCollection")[0].LabelCollection,window.Store.MediaPrep=window.mR.findModule("prepRawMedia")[0],window.Store.MediaObject=window.mR.findModule("getOrCreateMediaObject")[0],window.Store.NumberInfo=window.mR.findModule("formattedPhoneNumber")[0],window.Store.MediaTypes=window.mR.findModule("msgToMediaType")[0],window.Store.MediaUpload=window.mR.findModule("uploadMedia")[0],window.Store.MsgKey=window.mR.findModule(e=>e.default&&e.default.fromString)[0].default,window.Store.OpaqueData=window.mR.findModule(e=>e.default&&e.default.createFromData)[0].default,window.Store.QueryProduct=window.mR.findModule("queryProduct")[0],window.Store.QueryOrder=window.mR.findModule("queryOrder")[0],window.Store.SendClear=window.mR.findModule("sendClear")[0],window.Store.SendDelete=window.mR.findModule("sendDelete")[0],window.Store.SendMessage=window.mR.findModule("addAndSendMsgToChat")[0],window.Store.EditMessage=window.mR.findModule("addAndSendMessageEdit")[0],window.Store.SendSeen=window.mR.findModule("sendSeen")[0],window.Store.User=window.mR.findModule("getMaybeMeUser")[0],window.Store.ContactMethods=window.mR.findModule("getUserid")[0],window.Store.UploadUtils=window.mR.findModule(e=>e.default&&e.default.encryptAndUpload?e.default:null)[0].default,window.Store.UserConstructor=window.mR.findModule(e=>e.default&&e.default.prototype&&e.default.prototype.isServer&&e.default.prototype.isUser?e.default:null)[0].default,window.Store.Validators=window.mR.findModule("findLinks")[0],window.Store.VCard=window.mR.findModule("vcardFromContactModel")[0],window.Store.WidFactory=window.mR.findModule("createWid")[0],window.Store.ProfilePic=window.mR.findModule("profilePicResync")[0],window.Store.PresenceUtils=window.mR.findModule("sendPresenceAvailable")[0],window.Store.ChatState=window.mR.findModule("sendChatStateComposing")[0],window.Store.findCommonGroups=window.mR.findModule("findCommonGroups")[0].findCommonGroups,window.Store.StatusUtils=window.mR.findModule("setMyStatus")[0],window.Store.ConversationMsgs=window.mR.findModule("loadEarlierMsgs")[0],window.Store.sendReactionToMsg=window.mR.findModule("sendReactionToMsg")[0].sendReactionToMsg,window.Store.createOrUpdateReactionsModule=window.mR.findModule("createOrUpdateReactions")[0],window.Store.EphemeralFields=window.mR.findModule("getEphemeralFields")[0],window.Store.MsgActionChecks=window.mR.findModule("canSenderRevokeMsg")[0],window.Store.QuotedMsg=window.mR.findModule("getQuotedMsgObj")[0],window.Store.LinkPreview=window.mR.findModule("getLinkPreview")[0],window.Store.Socket=window.mR.findModule("deprecatedSendIq")[0],window.Store.SocketWap=window.mR.findModule("wap")[0],window.Store.SearchContext=window.mR.findModule("getSearchContext")[0].getSearchContext,window.Store.DrawerManager=window.mR.findModule("DrawerManager")[0].DrawerManager,window.Store.LidUtils=window.mR.findModule("getCurrentLid")[0],window.Store.WidToJid=window.mR.findModule("widToUserJid")[0],window.Store.JidToWid=window.mR.findModule("userJidToUserWid")[0],window.Store.getMsgInfo=(window.mR.findModule("sendQueryMsgInfo")[0]||{}).sendQueryMsgInfo||window.mR.findModule("queryMsgInfo")[0].queryMsgInfo,window.Store.pinUnpinMsg=window.mR.findModule("sendPinInChatMsg")[0].sendPinInChatMsg,window.Store.QueryExist=(m=window.mR.findModule("queryExists")[0])?m.queryExists:window.mR.findModule("queryExist")[0].queryWidExists,window.Store.ReplyUtils=(m=window.mR.findModule("canReplyMsg")).length>0&&m[0],window.Store.Settings={...window.mR.findModule("ChatlistPanelState")[0],setPushname:window.mR.findModule(e=>e.setPushname&&!e.ChatlistPanelState)[0].setPushname},window.Store.StickerTools={...window.mR.findModule("toWebpSticker")[0],...window.mR.findModule("addWebpMetadata")[0]},window.Store.GroupUtils={...window.mR.findModule("createGroup")[0],...window.mR.findModule("setGroupDescription")[0],...window.mR.findModule("sendExitGroup")[0],...window.mR.findModule("sendSetPicture")[0]},window.Store.GroupParticipants={...window.mR.findModule("promoteParticipants")[0],...window.mR.findModule("sendAddParticipantsRPC")[0]},window.Store.GroupInvite={...window.mR.findModule("resetGroupInviteCode")[0],...window.mR.findModule("queryGroupInvite")[0]},window.Store.GroupInviteV4={...window.mR.findModule("queryGroupInviteV4")[0],...window.mR.findModule("sendGroupInviteMessage")[0]},window.Store.MembershipRequestUtils={...window.mR.findModule("getMembershipApprovalRequests")[0],...window.mR.findModule("sendMembershipRequestsActionRPC")[0]},window.Store.Chat._find||(window.Store.Chat._find=e=>{const t=window.Store.Chat.get(e);return t?Promise.resolve(t):Promise.resolve({id:e})}),(m=window.mR.findModule("ChatCollection")[0])&&m.ChatCollection&&void 0===m.ChatCollection.findImpl&&void 0!==m.ChatCollection._find&&(m.ChatCollection.findImpl=m.ChatCollection._find);const e=window.mR.findModule("isMDBackend");e&&e[0]&&e[0].isMDBackend?window.Store.MDBackend=e[0].isMDBackend():window.Store.MDBackend=!0;const t=window.mR.findModule("FEATURE_CHANGE_EVENT")[0];t&&(window.Store.Features=t.LegacyPhoneFeatures),window.injectToFunction=(e,t)=>{const o="string"==typeof e.module?window.mR.findModule(e.module):window.mR.modules[e.module],i=o[e.index][e.function];o[e.index][e.function]=(...e)=>t(i,...e)},window.injectToFunction({module:"mediaTypeFromProtobuf",index:0,function:"mediaTypeFromProtobuf"},(e,...t)=>{const[o]=t;return o.locationMessage?null:e(...t)}),window.injectToFunction({module:"typeAttributeFromProtobuf",index:0,function:"typeAttributeFromProtobuf"},(e,...t)=>{const[o]=t;return o.locationMessage||o.groupInviteMessage?"text":e(...t)})}},945:e=>{const t=function(){return t.mID=Math.random().toString(36).substring(7),t.mObj={},fillModuleArray=function(){(window.webpackChunkbuild||window.webpackChunkwhatsapp_web_client).push([[t.mID],{},function(e){Object.keys(e.m).forEach(function(o){t.mObj[o]=e(o)})}])},fillModuleArray(),get=function(e){return t.mObj[e]},findModule=function(e){return results=[],modules=Object.keys(t.mObj),modules.forEach(function(o){if(mod=t.mObj[o],"undefined"!=typeof mod)if("string"==typeof e){if("object"==typeof mod.default)for(key in mod.default)key==e&&results.push(mod);for(key in mod)key==e&&results.push(mod)}else{if("function"!=typeof e)throw new TypeError("findModule can only find via string and function, "+typeof e+" was passed");e(mod)&&results.push(mod)}}),results},{modules:t.mObj,constructors:t.cArr,findModule,get}};e.exports?e.exports=t:window.mR=t()}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,o),r.exports}const{init:i}=o(580),{getHashWinObj:n}=o(669);i().then(()=>{}),n().onAddMessageEvent=function(e){console.log("msg",e)},n().onAddMessageCiphertextEvent=function(e){console.log("msg1",e)}})();